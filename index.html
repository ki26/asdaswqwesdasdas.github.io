<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pirate Sloop</title>

  <!-- Google Fonts: keep only Fira Sans -->
  <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    /* ===========================
       GLOBAL THEME & TYPOGRAPHY
       =========================== */
    :root{
      /* ---- Theme tokens ---- */
      --bg: #000;
      --fg: #f5f5f5;
      --muted: #cfcfcf;
      --accent: #a03e3e;
      --accent-2: #7a2c2c;
      --card: #0c0c0c;
      --card-stroke: #242424;
      --chip: #111;
      --chip-stroke:#2a2a2a;

      /* ---- Layout ---- */
      --maxw: 640px;
      --pad-x: clamp(16px, 4vw, 32px);
      --section-pad: clamp(48px, 7vw, 96px);

      /* ---- Fixed topbar height ---- */
      --topbar-h: 56px;

      /* ---- Hero spacing ---- */
      --hero-top-gap: 72px;

      /* ---- Typography system (3 types) ---- */
      /* Type 1: base text (nav, paragraphs, footer, descriptions) */
      --t1-size: 16px;
      --t1-weight: 400;

      /* Type 2: same size as Type 1, but bold (short accents, game title, buttons) */
      --t2-size: var(--t1-size);
      --t2-weight: 700;

      /* Type 3: section headings (bigger + bold) */
      --t3-size: 24px;
      --t3-weight: 700;
    }

    /* Base reset */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--fg);
      background:var(--bg);
      font-family:'Fira Sans', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      line-height:1.5;
      overflow:auto;
      padding-top: var(--topbar-h);

      /* Type 1 defaults */
      font-size: var(--t1-size);
      font-weight: var(--t1-weight);
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}

    /* ---- Top bar ---- */
    .topbar{
      position:fixed;
      top:0; left:0; right:0;
      height:var(--topbar-h);
      z-index:1000;
      background:#000;
      display:flex;
      align-items:center;
    }
    .topbar__inner{
      max-width: 100%;
      width: 100%;
      margin: 0;
      display:flex;
      align-items:center;
      justify-content:flex-end;
      gap:20px;
      padding:0 var(--pad-x);
      height:100%;
    }
    .topbar__inner .nav{ margin-left: auto; }

    /* Type 1 for nav */
    .nav a{
      font-size: var(--t1-size);
      font-weight: var(--t1-weight);
      letter-spacing:.02em;
      display:inline-block;
      padding:8px 10px;
      transition:transform .15s ease, background-color .2s ease, color .2s ease;
      color:#ddd;
    }
    .nav a:hover,
    .nav a.active{
      transform: translateY(-1px);
      color:#fff;
      background:#111;
    }

    /* Sections */
    .section{
      padding:var(--section-pad) var(--pad-x);
      scroll-margin-top: calc(var(--topbar-h) + 12px);
    }

    /* ---- Hero ---- */
    .section--hero{
      display:grid;
      place-items:center;
      text-align:center;
      padding-top: var(--hero-top-gap);
    }
    .logo{
      width:min(92vw, 600px);
      margin:0 0 28px;
      filter:drop-shadow(0 8px 28px rgba(0,0,0,.75));
    }

    .socials{ display:flex; gap:14px; justify-content:center; margin-top:18px; }
    .chip{
      display:inline-flex; align-items:center; justify-content:center;
      width:48px; height:48px; border-radius:50%;
      background:var(--chip); border:1px solid var(--chip-stroke);
      transition:transform .15s ease, border-color .2s ease, background .2s ease;
    }
    .chip:hover{ transform:translateY(-2px); border-color:#3a3a3a; background:#141414; }

    /* ---- Section titles (Type 3) ---- */
    .h2{
      font-size: var(--t3-size);
      font-weight: var(--t3-weight);
      letter-spacing: 0;
      margin:0 0 22px;
      text-align:center;
    }

    /* ---- Games ---- */
    .section--games{ background:none; }
    .container{ max-width:var(--maxw); margin:0 auto; }
    .games-grid{ display:grid; grid-template-columns: 1fr; gap:18px; }

    .game-card{
      border-radius:0;
      --card-bg: var(--card);
      --stroke: var(--card-stroke);
      display:grid;
      grid-template-columns: 120px 1fr;
      gap:18px;
      background:var(--card-bg);
      border:1px solid var(--stroke);
      padding:16px;
      align-items:center;
    }
    .game-thumb{
      width:120px; height:120px;
      background:#0f0f0f;
      border:1px solid #222;
      display:grid; place-items:center;
      overflow:hidden;
    }
    .game-thumb img{ width:100%; height:100%; object-fit:cover; }

    .game-body{ display:grid; gap:10px; }

    /* Game title -> Type 2 (same size as body, but bold) */
    .game-title{
      font-size: var(--t2-size);
      font-weight: var(--t2-weight);
      letter-spacing:.02em;
    }

    /* Game description -> Type 1 */
    .game-desc{
      color:var(--muted);
      font-size: var(--t1-size);
      font-weight: var(--t1-weight);
      line-height:1.6;
    }

    .store-row{
      display:flex; flex-wrap:wrap; gap:10px; align-items:center;
      justify-content:flex-start;
    }

    /* ---- Buttons (shared) ---- */
    .btn{
      /* shared button primitives */
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px;
      border-radius:8px;
      transition:transform .12s ease, border-color .2s ease, background .2s ease, color .2s ease;
      font-size: var(--t2-size);      /* Type 2 size */
      font-weight: var(--t2-weight);  /* Type 2 weight (bold) */
    }

    /* Store buttons */
    .store-btn{
      composes: btn; /* hint for readability; not a real CSS feature */
      border:1px solid #2a2a2a;
      background:#0f0f0f;
    }
    .store-btn:hover{ transform:translateY(-1px); border-color:#3a3a3a; background:#151515; color:#fff; }
    .store-ico{ width:18px; height:18px; display:block; }

    /* ---- About ---- */
    .about{
      display:grid; gap:16px;
      grid-template-columns: 104px 1fr;
      align-items:start;
    }
    .avatar{
      width:104px; height:104px;
      border:1px solid #222; background:#0f0f0f; overflow:hidden;
    }
    .about p{ color:var(--muted); margin:0; }

    /* Email paragraph (spacing + italic) */
    .about p:last-of-type {
      margin-top: 1em;
      font-style: italic;
    }

    /* ---- Support (coffee) ---- */
    .sr-only{
      position:absolute !important;
      width:1px !important;
      height:1px !important;
      padding:0 !important;
      margin:-1px !important;
      overflow:hidden !important;
      clip:rect(0,0,0,0) !important;
      white-space:nowrap !important;
      border:0 !important;
    }
    .section--support .support-container{
      display:flex; justify-content:center;
    }

    /* Coffee button (Type 2) */
    .coffee{
      display:inline-flex; align-items:center; gap:10px;
      padding:12px 18px;
      border-radius:8px;
      background:#ffd84d;
      border:1px solid #caa200;
      color:#000;
      font-size: var(--t2-size);
      font-weight: var(--t2-weight);
      transition:transform .12s ease, background .2s ease, filter .2s ease;
      margin:32px auto 0;
    }
    .coffee:hover{ transform:translateY(-1px); filter:saturate(1.05); }

    /* ---- Footer -> Type 1 ---- */
    footer{
      padding:20px var(--pad-x) 40px;
      color:#8a8a8a;
      text-align:center;
      font-size: var(--t1-size);
      font-weight: var(--t1-weight);
      margin-top:var(--section-pad);
    }

    /* --- Support spacing controls --- */
    :root{
      --support-pad-y: 8px;
      --support-gap: 0px;
      --support-footer-gap: 82px;
    }
    .section--support{ padding: var(--support-pad-y) var(--pad-x); }
    .section--support .coffee{ margin: var(--support-gap) auto 0; }
    .section--support + footer{ margin-top: var(--support-footer-gap); }

    /* ---- Mobile tweaks ---- */
    @media (max-width:640px){
      .about{ grid-template-columns: 1fr; text-align:center; }
      .avatar{ margin: 0 auto; }
      .store-row{ justify-content:center; }
    }
    @media (max-width:520px){
      .game-card{ grid-template-columns: 1fr; text-align:center; }
      .game-thumb{ margin: 0 auto; }
    }

    /* ---- Accessibility: motion ---- */
    @media (prefers-reduced-motion: reduce){
      *{ transition:none !important; animation:none !important }
    }
  </style>
</head>
<body>

  <!-- Fixed top navigation (right aligned) -->
  <header class="topbar" aria-label="Site">
    <div class="topbar__inner">
      <nav class="nav" aria-label="Primary">
        <a href="#main">Main</a>
        <a href="#games">Games</a>
        <a href="#about">About</a>
      </nav>
    </div>
  </header>

  <!-- MAIN / HERO -->
  <section id="main" class="section section--hero" aria-label="Main">
    <!-- Logo -->
    <img class="logo" src="assets/piratesloop-logo2.png" alt="Pirate Sloop Logo" loading="lazy">

<!-- Social row (round chips) -->
<div class="socials" aria-label="Social links">
  <!-- Discord (first) -->
  <a class="chip" href="https://discord.gg/8NTWpcmuHv" aria-label="Discord">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="#cfcfcf" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 5.6a17.8 17.8 0 00-4.5-1.4l-.3.6a16 16 0 00-6.4 0l-.3-.6A17.8 17.8 0 003 5.6C1.2 8.4.7 11 1 13.6a17.7 17.7 0 006.7 3.4l.9-1.4a8.6 8.6 0 01-1.3-.6l.3-.2c2.6 1.2 5.7 1.2 8.3 0l.3.2c-.4.2-.8.4-1.3.6l.9 1.4a17.7 17.7 0 006.7-3.4c.4-2.6-.2-5.2-1.6-8zM9.4 13c-.9 0-1.6-.8-1.6-1.8S8.5 9.4 9.4 9.4s1.6.8 1.6 1.8S10.3 13 9.4 13zm5.2 0c-.9 0-1.6-.5-1.6-1.1s.7-1.1 1.6-1.1 1.6.5 1.6 1.1-.7 1.1-1.6 1.1z"/>
    </svg>
  </a>

  <!-- YouTube (second) -->
  <a class="chip" href="https://www.youtube.com/@piratesloop" target="_blank" rel="noopener" aria-label="YouTube">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="#cfcfcf" xmlns="http://www.w3.org/2000/svg">
      <path d="M23.5 6.2s-.2-1.6-.8-2.3c-.7-.8-1.5-.8-1.9-.9C17.6 2.7 12 2.7 12 2.7h-.1s-5.6 0-8.8.3c-.4.1-1.2.1-1.9.9-.6.7-.8 2.3-.8 2.3S0 8 0 9.8v1.6c0 1.8.2 3.6.2 3.6s.2 1.6.8 2.3c.7.8 1.7.8 2.1.9 1.6.2 6.9.3 6.9.3s5.6 0 8.8-.3c.4-.1 1.2-.1 1.9-.9.6-.7.8-2.3.8-2.3s.2-1.8.2-3.6V9.8c0-1.8-.2-3.6-.2-3.6zM9.5 14.3V8.7l5.7 2.8-5.7 2.8z"/>
    </svg>
  </a>

  <!-- Tumblr (third) -->
  <a class="chip" href="https://piratesloop.tumblr.com/" target="_blank" rel="noopener" aria-label="Tumblr">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="#cfcfcf" xmlns="http://www.w3.org/2000/svg">
      <path d="M14.6 21.9c-3.9 0-6.4-2.1-6.4-5.6V9H6V6.1c2.5-.9 3.3-2.9 3.6-4.1H12v3.6h3v3.4h-3v6c0 1.4.8 2.2 2.1 2.2 1 0 1.7-.2 2.4-.6v3.1c-.7.4-1.9.8-2.9.8z"/>
    </svg>
  </a>
</div>
  </section>

  <!-- GAMES -->
  <section id="games" class="section section--games" aria-label="Games">
    <div class="container">
      <h2 class="h2">Games</h2>
      <div id="gamesGrid" class="games-grid"></div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="section" aria-label="About">
    <div class="container">
      <h2 class="h2">About</h2>

      <div class="about">
        <!-- Avatar -->
        <div class="avatar">
          <img src="assets/avatar.png" alt="Avatar" loading="lazy">
        </div>

        <!-- Text -->
        <div>
          <p>Ahoy!</p>
          <p>I’m the captain of Pirate Sloop — and the only full-time crew member.</p>
          <p>My name is Ihor. I’m from Ukraine and work as an architect. Game development is my hobby — something I do in my free time.</p>
          <p>If you’ve found your way here through one of my games — thank you for playing! Your time and interest mean a lot.</p>
          <p>If you have any comments or thoughts, feel free to reach out — I’ll do my best to reply!</p>
          <p><a href="mailto:piratesloop4@gmail.com">piratesloop4@gmail.com</a></p>
        </div>
      </div>
    </div>
  </section>

  <!-- SUPPORT -->
  <section id="support" class="section section--support" aria-label="Support">
    <div class="container support-container">
      <h2 class="sr-only">Support</h2>
      <a class="coffee" href="https://www.buymeacoffee.com/piratesloop" target="_blank" rel="noopener">
        ☕ Buy me a coffee
      </a>
    </div>
  </section>

  <footer>
    © <span id="y"></span> Pirate Sloop
  </footer>

  <!-- ===== Templates & Scripts ===== -->
  <template id="game-card-template">
    <article class="game-card">
      <div class="game-thumb"><img alt="" loading="lazy"></div>
      <div class="game-body">
        <div class="game-title"></div>
        <div class="game-desc"></div>
        <div class="store-row" aria-label="Stores"></div>
      </div>
    </article>
  </template>

  <script>
    // ---- Helpers & data ----

    /* Build a store button (brand-agnostic, concise with innerHTML) */
    function createStoreButton(label, href, svgPathD){
      const a = document.createElement('a');
      a.className = 'store-btn btn';
      a.href = href || '#';
      a.target = '_blank';
      a.rel = 'noopener';
      a.innerHTML = `
        <svg class="store-ico" viewBox="0 0 24 24" fill="#cfcfcf">
          <path d="${svgPathD}"/>
        </svg>
        <span>${label}</span>
      `;
      return a;
    }

    // Simple brand icons (monotone) for store buttons
    const ICONS = {
      steam:  "M20 3a2 2 0 012 2v14a2 2 0 01-2 2H12a5 5 0 00-9.2-.7A2 2 0 013 19v-1.2l2.1.7A3 3 0 108.8 16H20a1 1 0 001-1V5a1 1 0 00-1-1h-8a1 1 0 00-1 1v5h-2V5a3 3 0 013-3h8z",
      ios:    "M16.4 1.9c.5 1.2.3 2.7-.6 3.9-.9 1.2-2.5 2.1-3.7 2-.4-1.1-.2-2.5.7-3.7 1-1.4 2.7-2.4 3.6-2.2zM12.1 8.2c2.1 0 3 1.2 4.5 1.2 1.6 0 2.5-1.2 4.7-1.2-2.5 6.7-4 10.1-6.3 10.1-1.6 0-2.1-1-3.9-1s-2.4 1-3.9 1c-2.4 0-4.6-4.9-6.6-10.1 2.4 0 3.3 1.2 4.8 1.2 1.4 0 2.1-1.2 4.7-1.2z",
      gplay:  "M3 4.3a2 2 0 011.9-1.9l8.8 8.2-3 3-7.7-9.3zM12.6 11.6l3-3 3.3 3.1-9.3 5.5 3-5.6zM3 5.9l7.2 8.8L4.8 17A2 2 0 013 15.1V5.9zM19.8 9.9l1.2.9a2 2 0 010 3.2l-1.3.9-3.9-2.5 4-2.5z"
    };

    // Games data (stores uncommented)
    const gamesData = [
      {
        title: "Darkened: Dungeon RPG",
        description:
          "Plunge into a cursed world of dark fantasy. Explore unique dungeons, master tactical turn-based combat, and unravel the secrets of a realm consumed by corruption.",
        cover: "assets/darkened-cover.png",
        stores: [
          { label: "Steam",       url: "#", icon: ICONS.steam },
          { label: "App Store",   url: "#", icon: ICONS.ios },
          { label: "Google Play", url: "#", icon: ICONS.gplay }
        ]
      }
    ];

    // Render cards
    const grid = document.getElementById('gamesGrid');
    const tpl = document.getElementById('game-card-template');

    gamesData.forEach(game => {
      const node = tpl.content.cloneNode(true);

      // Thumb
      const img = node.querySelector('.game-thumb img');
      img.src = game.cover;
      img.alt = `${game.title} cover`;
      img.loading = 'lazy';

      // Title & desc
      node.querySelector('.game-title').textContent = game.title;
      node.querySelector('.game-desc').textContent = game.description;

      // Stores
      const row = node.querySelector('.store-row');
      game.stores.forEach(s => row.appendChild(createStoreButton(s.label, s.url, s.icon)));

      grid.appendChild(node);
    });

    // Footer year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Smooth in-page scroll
    document.querySelectorAll('.nav a[href^="#"]').forEach(a=>{
      a.addEventListener('click', e=>{
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if(el){
          e.preventDefault();
          el.scrollIntoView({behavior:'smooth', block:'start'});
        }
      });
    });

    // Scroll spy: highlight active nav link on scroll
    (() => {
      const topbarH = parseInt(
        getComputedStyle(document.documentElement).getPropertyValue('--topbar-h')
      ) || 56;

      const links = Array.from(document.querySelectorAll('.nav a'));
      const byId = new Map(links.map(a => [a.getAttribute('href').slice(1), a]));

      const setActive = (id) => {
        links.forEach(a => a.classList.toggle('active', a.getAttribute('href') === `#${id}`));
      };

      const io = new IntersectionObserver((entries) => {
        let best = null;
        for (const e of entries) {
          if (e.isIntersecting) {
            if (!best || e.intersectionRatio > best.intersectionRatio) best = e;
          }
        }
        if (best) {
          const id = best.target.id;
          if (byId.has(id)) setActive(id);
        }
      }, {
        rootMargin: `-${topbarH + 8}px 0px -60% 0px`,
        threshold: [0.25, 0.5, 0.75]
      });

      document.querySelectorAll('section[id]').forEach(sec => io.observe(sec));

      // Initial active on load
      const probe = document.elementFromPoint(window.innerWidth/2, topbarH + 10);
      const currentSection = probe && probe.closest ? probe.closest('section[id]') : null;
      if (currentSection) setActive(currentSection.id);
    })();
  </script>
</body>
</html>
